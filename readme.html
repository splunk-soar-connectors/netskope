<!-- File: readme.html
  Copyright 2018-2022 Netskope, Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software distributed under
  the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
  either express or implied. See the License for the specific language governing permissions
  and limitations under the License.
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>Netskope Phantom documentation</title>

    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

  <link rel="stylesheet" href="_static/custom.css" type="text/css" />


  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>

    <h2>Playbook Backward Compatibility</h2>
    <p>
      <ul>
        <li> The 'total_files' summary key has been replaced with the 'total_urls' key in output data paths for 'update url' action.
          This key will represent the total URLs updated on Netskope UI. Hence, it is requested to the end-user to please update
          their existing playbooks by re-inserting | modifying | deleting the corresponding action blocks to ensure the correct
          functioning of the playbooks created on the earlier versions of the app.</li>
        <li> The 'total_files' summary key has been replaced with the 'total_hashes' key in output data paths for 'update hash' action.
          This key will represent the total hashes updated on Netskope UI. Hence, it is requested to the end-user to please update
          their existing playbooks by re-inserting | modifying | deleting the corresponding action blocks to ensure the correct
          functioning of the playbooks created on the earlier versions of the app.</li>
      </ul>
    </p>

    <h2>Port Details</h2>
    <p>
        The app uses HTTP/ HTTPS protocol for communicating with the Netskope server. Below are the default ports used by the Splunk SOAR Connector.
        <table>
            <tr>
                <th>SERVICE NAME</th>
                <th>TRANSPORT PROTOCOL</th>
                <th>PORT</th>
            </tr>
            <tr>
                <td>http</td>
                <td>tcp</td>
                <td>80</td>
            </tr>
            <tr>
                <td>https</td>
                <td>tcp</td>
                <td>443</td>
            </tr>
        </table>
    </p>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">

  <div class="section" id="usage-notes">
<h1>Usage notes</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="action-notes">
<h2>Action Notes</h2>
<p>
  <ul>
    <li>
      Below actions will use v2 REST API <a href="https://docs.netskope.com/en/rest-api-v2-overview-312207.html" target="_blank">endpoints
      </a> if <b>v2 API Key</b> is configured in the asset. Actions will continue to support v1 API Key if v2 API Key is not provided, but it is recommended to use v2 API Key.
      <ul>
        <li>run query</li>
        <li>update url</li>
        <li>on poll</li>
      </ul>
    </li>
    <li>
      Test Connectivity will behave as described below:
      <ul>
        <li>If v1 API Key is configured, then the connectivity will be checked for v1 API Key</li>
        <li>If v2 API Key is configured, then the connectivity will be checked for v2 API Key</li> 
        <li>If both are configured then the connectivity will be checked with both API Keys</li>
        <li>If none is provided then the message will be thrown to configure at least one</li>
      </ul>
    </li>
    <li>
      Below actions will continue to use v1 API endpoints so without configuring <b>v1 API Key</b> below actions will fail.
      <ul>
        <li>update hash</li>
        <li>list files</li>
        <li>get file</li>
      </ul>
    </li>
    <li>
      Actions listed below just update the Splunk SOAR list and do not make any REST calls to the Netskope, so they'll work without any API Key.
      <ul>
        <li>add url</li>
        <li>remove url</li>
        <li>add hash</li>
        <li>remove hash</li>
      </ul>
    </li>
    <li>
      v2 REST API token must have access to the below mentioned endpoints to run all the v2 supported actions properly.
      <ul>
        <li>/api/v2/events/data/page (Read)</li>
        <li>/api/v2/events/data/alert (Read)</li>
        <li>/api/v2/events/data/application (Read)</li>
        <li>/api/v2/policy/urllist (Read + Write)</li>
        <li>/api/v2/policy/urllist/deploy (Read + Write)</li>
      </ul>
    </li>
    <li>In Splunk SOAR, a configured file list will be created with <b>{list_name}_file_list</b> format and a url list will be created with <b>{list_name}_url_list</b>. Where, list_name is a configured asset parameter.</li>
    <li>In order to reflect the URL/file_hash values to the Netskope, the same profile must exist at the Netskope. i.e., if test_list is provided as a list_name in the asset configuration, the same name of the profile should exist on the Netskope server.</li>
  </ul>
</p>
</div>
<div class="section" id="support">
<h2>Support</h2>
<p>Please contact Netskope Support for any issues relating to this app.</p>
</div>
  </body>
</html>
